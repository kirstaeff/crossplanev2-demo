apiVersion: apiextensions.crossplane.io/v1
kind: CompositeResourceDefinition
metadata:
    name: bootstrapstacks.platform.io
spec:
    group: platform.io
    names:
        kind: BootstrapStack
        plural: bootstrapstacks
    versions:
        - name: v1
          served: true
          referenceable: true
          schema:
              openAPIV3Schema:
                  type: object
                  properties:
                      spec:
                          type: object
                          properties:
                              clusterName:
                                  type: string
                              ingress:
                                  type: object
                                  properties:
                                      enabled:
                                          type: boolean
                                          default: true
                                          description: Enable or disable nginx ingress controller
                                      chartVersion:
                                          type: string
                                          default: "4.11.3"
                                          description: Nginx ingress Helm chart version
                                      namespace:
                                          type: string
                                          default: "ingress-nginx"
                                          description: Namespace for nginx ingress controller
                                      replicaCount:
                                          type: integer
                                          default: 1
                                          description: Number of nginx ingress controller replicas
                          required:
                              - clusterName
                      status:
                          type: object
                          properties:
                              ready:
                                  type: boolean
                                  description: Whether the bootstrap stack is ready
                              message:
                                  type: string
                                  description: Status message
                              deployedApps:
                                  type: object
                                  properties:
                                      ingress:
                                          type: string
